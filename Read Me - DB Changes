4/2/2018 - DB changes for Driver Tracking Mgt page

INSERT INTO PAGE (PAGECODE, DESCRIPTION, URL, SORTKEY, STATUS, LASTUPDATEDUSER) 
VALUES ('SCDT', 'Driver Tracking Mgt', '/viewDriverTracking', '89', 'ACT', 'admin');

INSERT INTO PAGETASK (USERROLECODE, PAGECODE, TASKCODE, LASTUPDATEDUSER) 
VALUES ('ADMIN', 'SCDT', 'VIEW', 'admin');

INSERT INTO PAGETASK_TEMPLATE (PAGECODE, TASKCODE, LASTUPDATEDUSER) 
VALUES ('SCDT', 'VIEW', 'admin');

INSERT INTO SECTIONPAGE (USERROLECODE, SECTIONCODE, PAGECODE, LASTUPDATEDUSER) 
VALUES ('ADMIN', 'SCSC', 'SCDT', 'admin');


5/2/2018 - DB changes for Driver Tracking Mgt page


CREATE TABLE MS_DRIVERS 
(
  NAME VARCHAR2(64) 
, MOBILE VARCHAR2(16) 
, EMAIL VARCHAR2(255) 
, STATUS VARCHAR2(20) 
, COLUMN1 VARCHAR2(15) 
, PROFILE_IMG BLOB 
, LICENSE BLOB 
, INSURANCE BLOB 
, PERMIT BLOB 
, ID NUMBER NOT NULL 
, CONSTRAINT DRIVERS_PK PRIMARY KEY 
  (
    ID 
  )
  ENABLE 
);

ALTER TABLE MS_DRIVERS 
DROP CONSTRAINT DRIVERS_PK;

ALTER TABLE MS_DRIVERS
ADD CONSTRAINT MS_DRIVERS_PK PRIMARY KEY 
(
  ID 
)
ENABLE;

CREATE SEQUENCE MS_DRIVERS_SEQ;

CREATE TRIGGER MS_DRIVERS_TRG 
BEFORE INSERT ON MS_DRIVERS 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF INSERTING AND :NEW.ID IS NULL THEN
      SELECT MS_DRIVERS_SEQ.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
    END IF;
  END COLUMN_SEQUENCES;
END;
/
